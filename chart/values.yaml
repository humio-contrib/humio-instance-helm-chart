platform: Azure

replicaCount: 3

imagePullSecrets: []
nameOverride: ""
fullnameOverride: ""

humio:
  image:
    repository: humio/humio-core
    tag: "1.42.1"
  config:
    autoRebalancePartitions: true
    digestPartitionsCount: 720
    storagePartitionsCount: 24
    targetReplicationFactor: 2
    smtp:
      enabled: false
      host: ""
      username: ""
      password: ""
      sender:
      port: 587
      startTLS: true
    jvmARGS: -Xss2m -Xms2g -Xmx6g -server -XX:MaxDirectMemorySize=6g -XX:+UnlockDiagnosticVMOptions -XX:CompileCommand=dontinline,com/humio/util/HotspotUtilsJ.dontInline -Xlog:gc+jni=debug:stdout -Dakka.log-config-on-start=on -Xlog:gc*:stdout:time,tags -Dzookeeper.client.secure=false
    enableFeatures:
    - FOWARDING
    - FDR_POLLING_ON_NODE
    dataVolumePersistentVolumeClaimSpecTemplate:
      accessModes:
      - ReadWriteOnce
      resources:
        requests:
          storage: 1.5Ti
      storageClassName:  openebs-lvmpv
  nodeCount: 3
  serviceAccount:
    # Specifies whether a service account should be created
    create: true
    # Annotations to add to the service account
    annotations: {}
    # The name of the service account to use.
    # If not set and create is true, a name is generated using the fullname template
    name: ""

  service:
    type: ClusterIP
    port: 80

  ingress:
    enabled: false
    className: ""
    annotations: {}

    tls: []
    #  - secretName: chart-example-tls
    #    hosts:
    #      - chart-example.local

  nodeSelector: {}

  tolerations: []

  affinity: {}

zookeeper:
  enabled: true
  replicaCount: 3
  fourlwCommandsWhitelist: srvr, mntr, ruok, stat
  pdb:
    create: true
  metrics:
    enabled: true

#This ZK instance is used by Humio and is not shared with Kafka
# zookeeper-operator:
#   enabled: true
#   crd:
#     create: true

# zookeeper:
#   enabled: true
#   #If enabled is false externalHostname should be fqdn:port used to connect
#   #externalHostname:
#   triggerRollingRestart: true
#   pod:
#     resources:
#       requests:
#         cpu: 200m
#         memory: 256Mi
#       limits:
#         cpu: 1
#         memory: 1Gi
#     affinity:
#       nodeAffinity:
#         requiredDuringSchedulingIgnoredDuringExecution:
#           nodeSelectorTerms:
#             - matchExpressions:
#                 - key: kubernetes.io/arch
#                   operator: In
#                   values:
#                     - amd64
#                 - key: kubernetes.io/os
#                   operator: In
#                   values:
#                     - linux
#   persistence:
#     storageClassName: managed-csi-premium
#     reclaimPolicy: Delete
#     volumeSize: 4Gi

kafka-operator:
  enabled: true

kafka:
  enabled: true
  #If enabled is false externalHostname should be fqdn:port used to connect
  #externalHostname:

s3proxy:
  enabled: true
  resources:
    requests:
      cpu: 200m
      memory: 1Gi
    limits:
      cpu: 500m
      memory: 2Gi
